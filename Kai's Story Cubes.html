<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Kai's Arcade</title>
    <meta name="apple-mobile-web-app-title" content="Kai's Arcade">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">

    <style>
        :root {
            --bg-color: #1a1a1a;
            --accent: #FFD700; /* Roblox Gold */
            --card-bg: #2d2d2d;
            --text-color: #ffffff;
            --slot-bg: #444;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        /* --- NAVIGATION / SCREENS --- */
        .screen {
            display: none;
            flex-direction: column;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0; left: 0;
            background: var(--bg-color);
            padding: 20px;
            box-sizing: border-box;
            align-items: center;
        }

        .screen.active { display: flex; }

        /* --- HOME SCREEN (THE HUB) --- */
        #screen-home {
            justify-content: center;
            gap: 20px;
        }

        h1 { margin: 0 0 20px 0; font-size: 2rem; text-transform: uppercase; color: var(--accent); text-shadow: 0 2px 0 #000; }

        .game-card {
            background: var(--card-bg);
            width: 100%;
            max-width: 300px;
            padding: 20px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            cursor: pointer;
            border: 4px solid #444;
            transition: transform 0.1s;
        }
        
        .game-card:active { transform: scale(0.95); border-color: var(--accent); }

        .game-icon { font-size: 3rem; }
        .game-title { font-size: 1.5rem; font-weight: bold; }

        /* --- SHARED UI --- */
        .back-btn {
            position: absolute;
            top: 20px; left: 20px;
            background: #444;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            z-index: 100;
        }

        /* --- GAME 1: STORY SLOTS --- */
        #screen-slots { justify-content: center; }

        .slots-container {
            display: flex;
            gap: 5px;
            background: #333;
            padding: 10px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .slot-col {
            background: white;
            width: 55px;
            height: 80px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            overflow: hidden;
            border: 3px solid #000;
        }

        .slot-col.spinning span {
            animation: blurScroll 0.2s infinite linear;
        }

        @keyframes blurScroll {
            0% { transform: translateY(-10px); filter: blur(2px); }
            50% { transform: translateY(10px); filter: blur(2px); }
            100% { transform: translateY(-10px); filter: blur(2px); }
        }

        .big-btn {
            background: var(--accent);
            color: black;
            border: none;
            padding: 20px 60px;
            font-size: 2rem;
            font-weight: 900;
            border-radius: 50px;
            border-bottom: 8px solid #b8860b;
            cursor: pointer;
        }
        .big-btn:active { transform: translateY(4px); border-bottom-width: 4px; }

        /* --- GAME 2: BLOX BUILDER --- */
        #screen-builder { justify-content: center; }

        .avatar-stage {
            background: radial-gradient(circle, #444 0%, #111 100%);
            width: 300px;
            height: 350px;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 20px;
            border: 4px solid #555;
        }

        .part-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 0 10px;
            margin: 5px 0;
        }

        .part-display { font-size: 4rem; width: 80px; text-align: center; }
        
        .arrow-btn {
            background: none; border: none; color: white; font-size: 2rem; padding: 10px;
        }

        /* --- GAME 3: THIS OR THAT --- */
        #screen-thisthat { justify-content: center; }

        .vs-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
            align-items: center;
        }

        .option-card {
            background: white;
            width: 80%;
            height: 150px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            border: 6px solid #ccc;
            transition: transform 0.2s, background 0.2s;
        }

        .option-card.winner {
            background: #4caf50;
            border-color: #fff;
            transform: scale(1.1);
        }

        .vs-text { font-size: 2rem; font-weight: 900; color: #888; margin: 10px 0; }

        /* Confetti */
        #confetti-canvas {
            position: absolute;
            top: 0; left: 0;
            pointer-events: none;
            width: 100%; height: 100%;
        }

    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>

    <div id="screen-home" class="screen active">
        <h1>Kai's Arcade</h1>
        
        <div class="game-card" onclick="goGame('slots')">
            <div class="game-icon">ğŸ°</div>
            <div class="game-title">Story Slots</div>
        </div>

        <div class="game-card" onclick="goGame('builder')">
            <div class="game-icon">ğŸ‘·</div>
            <div class="game-title">Blox Builder</div>
        </div>

        <div class="game-card" onclick="goGame('thisthat')">
            <div class="game-icon">âš–ï¸</div>
            <div class="game-title">This or That</div>
        </div>
    </div>

    <div id="screen-slots" class="screen">
        <button class="back-btn" onclick="goHome()">ğŸ </button>
        
        <div class="slots-container">
            <div class="slot-col" id="slot1"><span>ğŸ¦•</span></div>
            <div class="slot-col" id="slot2"><span>ğŸ•</span></div>
            <div class="slot-col" id="slot3"><span>ğŸš€</span></div>
            <div class="slot-col" id="slot4"><span>â›ˆï¸</span></div>
            <div class="slot-col" id="slot5"><span>ğŸ°</span></div>
        </div>

        <button class="big-btn" onclick="spinSlots()">SPIN!</button>
    </div>

    <div id="screen-builder" class="screen">
        <button class="back-btn" onclick="goHome()">ğŸ </button>
        
        <div class="avatar-stage">
            <div class="part-row">
                <button class="arrow-btn" onclick="changePart('head', -1)">â—€</button>
                <div class="part-display" id="disp-head">ğŸ˜</div>
                <button class="arrow-btn" onclick="changePart('head', 1)">â–¶</button>
            </div>
            <div class="part-row">
                <button class="arrow-btn" onclick="changePart('body', -1)">â—€</button>
                <div class="part-display" id="disp-body">ğŸ‘•</div>
                <button class="arrow-btn" onclick="changePart('body', 1)">â–¶</button>
            </div>
            <div class="part-row">
                <button class="arrow-btn" onclick="changePart('item', -1)">â—€</button>
                <div class="part-display" id="disp-item">ğŸ¸</div>
                <button class="arrow-btn" onclick="changePart('item', 1)">â–¶</button>
            </div>
        </div>
        
        <div style="color: #888; font-size: 1.2rem; font-weight: bold;">CREATE YOUR HERO</div>
    </div>

    <div id="screen-thisthat" class="screen">
        <button class="back-btn" onclick="goHome()">ğŸ </button>
        
        <div class="vs-container">
            <div class="option-card" id="opt1" onclick="pickOption(1)">ğŸ¦–</div>
            <div class="vs-text">VS</div>
            <div class="option-card" id="opt2" onclick="pickOption(2)">ğŸ‘½</div>
        </div>

        <button class="big-btn" style="margin-top: 30px; font-size: 1.2rem; padding: 15px 30px;" onclick="newVsRound()">NEXT PAIR</button>
    </div>

    <script>
        // --- NAVIGATION ---
        function goGame(gameId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(`screen-${gameId}`).classList.add('active');
            if(gameId === 'thisthat') newVsRound();
        }

        function goHome() {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-home').classList.add('active');
        }

        // --- AUDIO ENGINE (Simple Blips) ---
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        const audioCtx = new AudioContext();

        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);

            if (type === 'spin') {
                osc.frequency.setValueAtTime(200, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(600, audioCtx.currentTime + 0.1);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                osc.start(); osc.stop(audioCtx.currentTime + 0.1);
            } else if (type === 'win') {
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(400, audioCtx.currentTime);
                osc.frequency.setValueAtTime(600, audioCtx.currentTime + 0.1);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                osc.start(); osc.stop(audioCtx.currentTime + 0.3);
            } else {
                // Click
                osc.frequency.setValueAtTime(300, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.05);
                osc.start(); osc.stop(audioCtx.currentTime + 0.05);
            }
        }

        // --- GAME 1: SLOTS LOGIC ---
        const emojis = ["ğŸ¦•","ğŸ•","ğŸš€","â›ˆï¸","ğŸ°","ğŸ¦","ğŸš—","ğŸ‘»","ğŸ’","ğŸ¤ ","ğŸ¤–","ğŸ¦„","ğŸ’©","ğŸŒµ"];
        
        function spinSlots() {
            playSound('spin');
            
            // Visual Spin
            for(let i=1; i<=5; i++) {
                const el = document.getElementById(`slot${i}`);
                el.classList.add('spinning');
                
                // Staggered Stop
                setTimeout(() => {
                    el.classList.remove('spinning');
                    el.innerHTML = `<span>${emojis[Math.floor(Math.random() * emojis.length)]}</span>`;
                    playSound('click');
                }, 500 + (i * 200));
            }
        }

        // --- GAME 2: BLOX BUILDER LOGIC ---
        const parts = {
            head: ["ğŸ˜","ğŸ¤ ","ğŸ¤–","ğŸ¤¡","ğŸ‘½","ğŸƒ","ğŸ˜ˆ","ğŸ¶","ğŸ±","ğŸ¤´"],
            body: ["ğŸ‘•","ğŸ¥‹","ğŸ§¥","ğŸ¦º","ğŸ‘—","ğŸ‘”","ğŸ¦¾","ğŸ¦´","ğŸ•¸ï¸"],
            item: ["ğŸ¸","âš”ï¸","ğŸ›¡ï¸","ğŸ•","ğŸ†","ğŸ®","ğŸ“±","ğŸ”¦","ğŸ§¨","ğŸˆ"]
        };
        
        let currentParts = { head: 0, body: 0, item: 0 };

        function changePart(type, dir) {
            playSound('click');
            let idx = currentParts[type] + dir;
            if(idx < 0) idx = parts[type].length - 1;
            if(idx >= parts[type].length) idx = 0;
            
            currentParts[type] = idx;
            document.getElementById(`disp-${type}`).innerText = parts[type][idx];
        }

        // --- GAME 3: THIS OR THAT LOGIC ---
        const vsPairs = [
            ["ğŸ¦–","ğŸ‘½"], ["ğŸ¦¸","ğŸ¦¹"], ["ğŸ•·ï¸","ğŸ"], ["ğŸ”¥","â„ï¸"], 
            ["ğŸ•","ğŸ”"], ["ğŸï¸","âœˆï¸"], ["ğŸ¦","ğŸ¦ˆ"], ["ğŸ’©","ğŸ¤¢"],
            ["ğŸ‘»","ğŸ§Ÿ"], ["ğŸ¤ ","ğŸ¤–"], ["ğŸ«","ğŸ¥¦"], ["ğŸï¸","ğŸ”ï¸"]
        ];

        function newVsRound() {
            // Reset styles
            document.querySelectorAll('.option-card').forEach(el => el.classList.remove('winner'));
            
            // Pick random pair
            const pair = vsPairs[Math.floor(Math.random() * vsPairs.length)];
            document.getElementById('opt1').innerText = pair[0];
            document.getElementById('opt2').innerText = pair[1];
        }

        function pickOption(num) {
            playSound('win');
            document.getElementById(`opt${num}`).classList.add('winner');
            fireConfetti();
        }

        // --- CONFETTI ENGINE (Simple Canvas) ---
        function fireConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const particles = [];
            for(let i=0; i<50; i++) {
                particles.push({
                    x: window.innerWidth / 2,
                    y: window.innerHeight / 2,
                    vx: (Math.random() - 0.5) * 20,
                    vy: (Math.random() - 0.5) * 20,
                    color: `hsl(${Math.random()*360}, 100%, 50%)`,
                    life: 100
                });
            }

            function animate() {
                ctx.clearRect(0,0,canvas.width, canvas.height);
                let active = false;
                particles.forEach(p => {
                    if(p.life > 0) {
                        p.x += p.vx;
                        p.y += p.vy;
                        p.life--;
                        ctx.fillStyle = p.color;
                        ctx.fillRect(p.x, p.y, 8, 8);
                        active = true;
                    }
                });
                if(active) requestAnimationFrame(animate);
            }
            animate();
        }

    </script>
</body>
</html>
