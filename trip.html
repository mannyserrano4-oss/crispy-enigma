<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Road Trip Hub</title>
    
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">

    <style>
        :root {
            --bg-main: #121212;
            --surface: #1e1e1e;
            --text-main: #ffffff;
            --text-sub: #aaaaaa;
            --primary: #bb86fc;
            --secondary: #03dac6;
            --border: #333333;
            --bingo-tile: #2d3436;
            --bingo-mark: #4cd137;
            --bingo-text: #ffffff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-main);
            color: var(--text-main);
            margin: 0; padding: 0;
            height: 100dvh; width: 100vw;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            user-select: none;
            -webkit-user-select: none;
        }

        /* --- NAVIGATION --- */
        .screen {
            display: none;
            flex-direction: column;
            width: 100%; height: 100%;
            position: absolute; top: 0; left: 0;
            background: var(--bg-main);
        }
        .screen.active { display: flex; z-index: 10; }

        .nav-header {
            padding: 10px 15px;
            display: flex; align-items: center; justify-content: space-between;
            background: rgba(255,255,255,0.05);
            border-bottom: 1px solid var(--border);
            height: 60px; box-sizing: border-box; flex-shrink: 0;
        }

        .icon-btn {
            background: none; border: none; font-size: 1.5rem; 
            cursor: pointer; padding: 5px; color: var(--text-main);
            text-decoration: none; /* Important for the link */
        }

        /* --- HOME MENU --- */
        #screen-home { justify-content: center; align-items: center; padding: 20px; gap: 20px; box-sizing: border-box;}
        
        .menu-card {
            background: var(--surface); width: 100%; max-width: 350px;
            padding: 25px; border-radius: 16px; border: 1px solid var(--border);
            display: flex; align-items: center; gap: 20px; cursor: pointer;
        }
        .menu-card:active { transform: scale(0.98); opacity: 0.8; }
        .menu-icon { font-size: 2.5rem; }
        .menu-info h2 { margin: 0; font-size: 1.4rem; }
        .menu-info p { margin: 5px 0 0 0; color: var(--text-sub); font-size: 0.9rem; }

        /* --- BINGO (THE FIXED VERSION) --- */
        #screen-bingo { padding: 0; display: flex; flex-direction: column; }
        
        .bingo-wrapper {
            flex-grow: 1; width: 100%; height: 100%;
            display: flex; flex-direction: column;
            padding: 2px; box-sizing: border-box;
        }

        #bingo-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 2px;
            width: 100%; height: 100%;
        }

        .bingo-tile {
            background: var(--bingo-tile); color: var(--bingo-text);
            border: 1px solid var(--border); border-radius: 4px;
            display: flex; align-items: center; justify-content: center;
            text-align: center;
            /* This is the magic font scaling you liked */
            font-size: clamp(0.6rem, 2.5vh, 1.1rem);
            line-height: 1.1; font-weight: 700;
            padding: 2px; cursor: pointer;
            box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);
        }
        .bingo-tile.marked { background: var(--bingo-mark); color: white; border-color: var(--bingo-mark); }
        .bingo-tile.free { background: var(--primary); color: white; border-color: var(--primary); }

        /* --- PITCH & DIVE (Kept Simple) --- */
        #screen-dive, #screen-pitch { align-items: center; justify-content: center; padding: 20px; text-align: center;}
        .card-container { display: flex; align-items: center; justify-content: center; flex-grow: 1; width: 100%; }
        .question-card { 
            background: var(--surface); padding: 30px; border-radius: 20px; 
            font-size: 1.5rem; font-weight: bold; width: 100%; max-width: 400px;
            border: 1px solid var(--border);
        }
        .action-btn { 
            padding: 20px; border-radius: 12px; border: none; 
            font-size: 1.2rem; font-weight: bold; background: var(--secondary); color: #000;
            width: 100%; max-width: 400px; margin-top: 20px; cursor: pointer;
        }

        /* --- OVERLAY --- */
        #overlay {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: var(--surface); padding: 30px; border-radius: 20px;
            border: 4px solid var(--secondary); z-index: 100;
            transition: transform 0.2s; width: 80%; text-align: center;
        }
        #overlay.visible { transform: translate(-50%, -50%) scale(1); }
    </style>
</head>
<body>

    <div id="screen-home" class="screen active">
        <div style="width:100%; display:flex; justify-content:space-between; align-items:center;">
            <a href="../apps.html" class="icon-btn">üè† Exit</a>
            <h1 style="margin:0; font-size:1.5rem; color:var(--primary);">ROAD TRIP</h1>
        </div>
        
        <div class="menu-card" onclick="navTo('bingo')">
            <div class="menu-icon">üõ£Ô∏è</div>
            <div class="menu-info"><h2>Bingo</h2><p>Wall-to-wall grid</p></div>
        </div>
        <div class="menu-card" onclick="navTo('dive')">
            <div class="menu-icon">üí¨</div>
            <div class="menu-info"><h2>Deep Dive</h2><p>Conversation starters</p></div>
        </div>
        <div class="menu-card" onclick="navTo('pitch')">
            <div class="menu-icon">üé¨</div>
            <div class="menu-info"><h2>The Pitch</h2><p>Movie idea generator</p></div>
        </div>
    </div>

    <div id="screen-bingo" class="screen">
        <div class="nav-header">
            <button class="icon-btn" onclick="navTo('home')">‚¨Ö Back</button>
            <div style="font-weight:bold; color:var(--secondary);">BINGO</div>
            <button class="icon-btn" onclick="newBingoGame()">üîÑ</button>
        </div>
        <div class="bingo-wrapper"><div id="bingo-grid"></div></div>
    </div>

    <div id="screen-dive" class="screen">
        <div class="nav-header" style="position:absolute; top:0; width:100%;">
            <button class="icon-btn" onclick="navTo('home')">‚¨Ö Back</button>
        </div>
        <div class="card-container">
            <div id="question-text" class="question-card">Tap Next to Start</div>
        </div>
        <button class="action-btn" onclick="nextQuestion()">Next Question ‚ûî</button>
    </div>

    <div id="screen-pitch" class="screen">
        <div class="nav-header" style="position:absolute; top:0; width:100%;">
            <button class="icon-btn" onclick="navTo('home')">‚¨Ö Back</button>
        </div>
        <div class="card-container" style="flex-direction:column; gap:10px;">
            <div class="question-card" style="font-size:1.2rem;">
                <div style="color:#888; font-size:0.8rem;">GENRE</div>
                <div id="pitch-genre">---</div>
                <hr style="border:0; border-top:1px solid #333; margin:10px 0;">
                <div style="color:#888; font-size:0.8rem;">HERO</div>
                <div id="pitch-hero">---</div>
                <hr style="border:0; border-top:1px solid #333; margin:10px 0;">
                <div style="color:#888; font-size:0.8rem;">TWIST</div>
                <div id="pitch-twist">---</div>
            </div>
        </div>
        <button class="action-btn" onclick="generatePitch()">Generate Movie</button>
    </div>

    <div id="overlay" onclick="this.classList.remove('visible')">
        <h1 style="margin:0; font-size:3rem; color:var(--secondary);">BINGO!</h1>
        <p>Tap to continue</p>
    </div>

    <script>
        // --- DATA & LOGIC ---
        function navTo(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-' + id).classList.add('active');
            if(id === 'bingo' && document.getElementById('bingo-grid').innerHTML === "") newBingoGame();
        }

        // BINGO LOGIC
        const bingoItems = ["Police Car", "Ambulance", "Fire Truck", "Motorcycle", "Yellow Car", "Pink Car", "Classic Car", "Convertible", "Tesla", "Jeep w/ Ducks", "VW Beetle", "Smart Car", "Hummer", "Stick Family", "School Bus", "RV / Motorhome", "Boat on Trailer", "FedEx Truck", "UPS Truck", "Amazon Van", "Walmart Truck", "Gas Tanker", "Car Carrier", "Cement Mixer", "Garbage Truck", "U-Haul", "Dog Head out Window", "Feet on Dash", "Driver Singing", "Someone Sleeping", "Waffle House", "Cracker Barrel", "Buc-ee's", "McDonald's", "Starbucks", "Dollar General", "Billboard: Lawyer", "Billboard: Jesus", "Billboard: Adult", "Speed Limit 70", "State Line", "Rest Area", "Weigh Station", "Exit 69", "Exit 420", "Construction", "Water Tower", "Cell Tower Tree", "Wind Turbine", "Solar Farm", "Cows", "Horses", "Roadkill", "Train", "Bridge", "Tunnel", "Airplane", "Out of State Plate", "Vanity Plate", "Student Driver", "Baby on Board", "Broken Taillight", "Missing Hubcap", "Spare Tire", "Very Muddy Truck", "Roof Rack", "Bicycles", "Mattress on Roof"];
        let markedIndices = [];

        function newBingoGame() {
            let deck = [...bingoItems].sort(() => 0.5 - Math.random());
            let selected = deck.slice(0, 24);
            selected.splice(12, 0, "FREE SPACE");
            markedIndices = [12];
            renderBingo(selected);
        }

        function renderBingo(items) {
            const grid = document.getElementById('bingo-grid');
            grid.innerHTML = '';
            items.forEach((item, index) => {
                const tile = document.createElement('div');
                tile.className = 'bingo-tile' + (index === 12 ? ' free marked' : '');
                tile.innerText = item;
                tile.onclick = () => toggleTile(tile, index);
                grid.appendChild(tile);
            });
        }

        function toggleTile(tile, index) {
            if(index === 12) return;
            if(markedIndices.includes(index)) {
                markedIndices = markedIndices.filter(i => i !== index);
                tile.classList.remove('marked');
            } else {
                markedIndices.push(index);
                tile.classList.add('marked');
                checkWin();
            }
        }

        function checkWin() {
            const wins = [[0,1,2,3,4], [5,6,7,8,9], [10,11,12,13,14], [15,16,17,18,19], [20,21,22,23,24], [0,5,10,15,20], [1,6,11,16,21], [2,7,12,17,22], [3,8,13,18,23], [4,9,14,19,24], [0,6,12,18,24], [4,8,12,16,20]];
            if(wins.some(w => w.every(i => markedIndices.includes(i)))) document.getElementById('overlay').classList.add('visible');
        }

        // DEEP DIVE LOGIC
        const questions = ["Best concert?", "Weirdest food?", "Dream job?", "Worst haircut?", "Zombie plan?", "Lottery buy?", "Hidden talent?", "Spirit animal?", "Worst date?", "Pet peeve?", "Celebrity crush?", "Unpopular opinion?", "Ghost story?", "Fav childhood memory?", "Karaoke song?", "Guilty pleasure?", "Phone screensaver?", "Last meal?", "Travel bucket list?", "Superpower?"];
        function nextQuestion() {
            const q = questions[Math.floor(Math.random() * questions.length)];
            document.getElementById('question-text').innerText = q;
        }

        // PITCH LOGIC
        const genres = ["Horror", "RomCom", "Sci-Fi", "Western", "Action"];
        const heroes = ["Clown", "Toaster", "Dog", "Vampire", "Karen"];
        const twists = ["It was a dream", "Aliens invade", "They fall in love", "Everyone is a ghost"];
        function generatePitch() {
            document.getElementById('pitch-genre').innerText = genres[Math.floor(Math.random() * genres.length)];
            document.getElementById('pitch-hero').innerText = heroes[Math.floor(Math.random() * heroes.length)];
            document.getElementById('pitch-twist').innerText = twists[Math.floor(Math.random() * twists.length)];
        }
    </script>
</body>
</html>
