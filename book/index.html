<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Manny Serrano</title>
    <link rel="icon" type="image/png" href="icon.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(-45deg, #e9d5ff, #f5d0fe, #c4b5fd, #a78bfa);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        
        .form-input {
            width: 100%; padding: 12px; border-radius: 0.5rem;
            border: 1px solid #ddd6fe; background-color: rgba(255, 255, 255, 0.9);
            color: #4c1d95; outline: none; transition: all 0.2s;
        }
        .form-input:focus { border-color: #7c3aed; box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2); background-color: #ffffff; }
        
        /* FAQ Animation */
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        details[open] summary ~ * { animation: sweep .3s ease-in-out; }
        @keyframes sweep { 0% {opacity: 0; transform: translateY(-10px)} 100% {opacity: 1; transform: translateY(0)} }

        /* Custom Toast Notification */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #ef4444; /* Red-500 */
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 12px;
            position: fixed;
            z-index: 50;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            font-size: 0.9rem;
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.3s, bottom 0.3s;
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
            bottom: 50px;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 text-gray-800">

    <div class="w-full max-w-md bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden border border-white/50 mb-10">
        
        <div class="bg-violet-600 p-6 text-center relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
            
            <img src="icon.png" alt="Manny" class="w-24 h-24 rounded-full mx-auto mb-2 border-4 border-white shadow-lg relative z-10 object-cover">
            
            <h1 class="text-2xl font-bold text-white relative z-10">Book Your Cut With Manny</h1>
            
            <div class="flex justify-center gap-1 text-yellow-300 text-xs mb-1 relative z-10">
                <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
            </div>
            
            <p class="text-violet-200 text-sm relative z-10">Professional Barber & Unpaid Comedian</p>
        </div>

        <div class="p-6 space-y-5">

            <!-- to show this button, delete "hidden" after class=" -->
            <a href="https://mannyserrano4-oss.github.io/crispy-enigma/portfolio" target="_blank" class="hidden flex items-center justify-center w-full bg-violet-50 border border-violet-100 text-violet-600 font-bold py-3 rounded-xl hover:bg-violet-100 transition-all shadow-sm mb-2">
                <i class="fa-solid fa-camera mr-2"></i> Browse Portfolio
            </a>
            
            <div>
                <label class="block text-xs font-bold text-violet-700 uppercase tracking-wider mb-1">Your Name</label>
                <input type="text" id="cName" placeholder="e.g. John Doe" class="form-input">
            </div>

            <div class="flex gap-4">
                <div class="flex-grow">
                    <label class="block text-xs font-bold text-violet-700 uppercase tracking-wider mb-1">Service</label>
                    <div class="relative">
                        <select id="cService" class="form-input appearance-none cursor-pointer" onchange="updatePrice()">
                            <option value="Haircut" data-price="25">Haircut ($25)</option>
                            <option value="Skin Fade" data-price="30">Skin Fade ($30)</option>
                            <option value="Beard Trim" data-price="15">Beard Trim ($15)</option>
                            <option value="Full Service" data-price="35">Full Service ($35)</option>
                            <option value="Line Up" data-price="15">Line Up Only ($15)</option>
                            <option value="House Call" data-price="50+">House Call (Starts at $50)</option>
                            <option value="General Inquiry" data-price="0">General Inquiry</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-violet-600"><i class="fa-solid fa-chevron-down text-xs"></i></div>
                    </div>
                </div>
                <div class="w-24">
                    <label class="block text-xs font-bold text-violet-700 uppercase tracking-wider mb-1 text-center">Est. Cost</label>
                    <div id="priceDisplay" class="h-[50px] flex items-center justify-center bg-violet-100 rounded-lg text-violet-800 font-bold text-lg border border-violet-200 shadow-inner">
                        $25
                    </div>
                </div>
            </div>

                <!-- delete "hidden" (right after class=")below in order to show add-ons and shit, put it back to get rid of it again -->
            <div class="hidden mt-4 mb-4 bg-violet-50 p-4 rounded-xl border border-violet-100 space-y-4">
                
                <label class="block text-xs font-bold text-violet-700 uppercase tracking-wider mb-1">
                    <i class="fa-solid fa-sparkles mr-1"></i> Enhancements
                </label>

                <div class="space-y-2">
                    
                    <label class="flex items-center justify-between cursor-pointer bg-white p-2 rounded-lg border border-violet-100 shadow-sm hover:border-violet-300 transition-all">
                        <span class="text-sm font-medium text-gray-700 flex items-center">
                            <input type="checkbox" class="addon-checkbox form-checkbox h-4 w-4 text-violet-600 rounded mr-3" data-name="Eyebrows" data-price="5" onchange="updatePrice()">
                            Eyebrows / Cleanup
                        </span>
                        <span class="text-xs font-bold text-violet-600">+$5</span>
                    </label>
                    
                    <label class="flex items-center justify-between cursor-pointer bg-white p-2 rounded-lg border border-violet-100 shadow-sm hover:border-violet-300 transition-all">
                        <span class="text-sm font-medium text-gray-700 flex items-center">
                            <input type="checkbox" class="addon-checkbox form-checkbox h-4 w-4 text-violet-600 rounded mr-3" data-name="Beard Lineup" data-price="10" onchange="updatePrice()">
                            Beard Line-up
                        </span>
                        <span class="text-xs font-bold text-violet-600">+$10</span>
                    </label>
                </div>

                <div class="pt-2 border-t border-violet-200/50">
                    <div class="flex justify-between items-center mb-2">
                        <p class="text-[10px] font-bold text-violet-400 uppercase tracking-wider">Skin Treatments</p>
                        <a href="https://mannyserrano4-oss.github.io/crispy-enigma/facial" target="_blank" class="text-[10px] font-bold text-violet-600 hover:underline">
                            <i class="fa-solid fa-circle-info mr-1"></i>Compare
                        </a>
                    </div>
                    
                    <div class="mb-2">
                        <label class="flex items-center justify-between cursor-pointer bg-white p-3 rounded-lg border border-violet-100 shadow-sm hover:border-violet-300 transition-all relative z-10">
                            <div class="flex items-center">
                                <input type="radio" name="facialType" class="facial-radio form-radio h-4 w-4 text-violet-600 mr-3" data-name="Express Facial" data-price="20" onchange="updatePrice()">
                                <div>
                                    <div class="text-sm font-bold text-gray-800">The Express</div>
                                    <div class="text-[10px] text-gray-500">Cleanse, Towel, Mask, Moisturize</div>
                                </div>
                            </div>
                            <span class="text-xs font-bold text-violet-600">+$20</span>
                        </label>
                        
                        <details class="text-[10px] text-gray-500 px-3 pt-2 pb-1">
                            <summary class="cursor-pointer text-violet-400 hover:text-violet-600 list-none text-right">See full steps <i class="fa-solid fa-chevron-down ml-1"></i></summary>
                            <div class="mt-1 pl-2 border-l-2 border-violet-200">
                                Includes: Hot Towel, Pore Opening Wash, Choice of Mask (Clay/Sheet), toner, and a Hydrating Moisturizer.
                                <a href="https://mannyserrano4-oss.github.io/crispy-enigma/facial" target="_blank" class="block mt-2 font-bold text-violet-600 hover:underline">
                                    View Steps, and Science/Breakdown &rarr;
                                </a>
                            </div>
                        </details>
                    </div>

                    <div>
                        <label class="flex items-center justify-between cursor-pointer bg-white p-3 rounded-lg border border-violet-100 shadow-sm hover:border-violet-300 transition-all relative z-10">
                            <div class="flex items-center">
                                <input type="radio" name="facialType" class="facial-radio form-radio h-4 w-4 text-violet-600 mr-3" data-name="Deluxe Spa Facial" data-price="50" onchange="updatePrice()">
                                <div>
                                    <div class="text-sm font-bold text-gray-800">The Deluxe</div>
                                    <div class="text-[10px] text-gray-500">Steamer, Extraction, Serums + More</div>
                                </div>
                            </div>
                            <span class="text-xs font-bold text-violet-600">+$50</span>
                        </label>
                        
                        <details class="text-[10px] text-gray-500 px-3 pt-2 pb-1">
                            <summary class="cursor-pointer text-violet-400 hover:text-violet-600 list-none text-right">See full steps <i class="fa-solid fa-chevron-down ml-1"></i></summary>
                            <div class="mt-1 pl-2 border-l-2 border-violet-200">
                                The Luxory Experience: Everything in Express + a Professional Steamer, Deep Extractions, Under-Eye Treatment, Custom Clay or Sheet Mask, Vitamin Serum, and Enzyme Exfoliation.
                                <a href="https://mannyserrano4-oss.github.io/crispy-enigma/facial" target="_blank" class="block mt-2 font-bold text-violet-600 hover:underline">
                                    View Steps, and Science/Breakdown &rarr;
                                </a>
                            </div>
                        </details>
                    </div>
                    
                    <label class="flex items-center gap-2 mt-2 cursor-pointer opacity-50 hover:opacity-100">
                        <input type="radio" name="facialType" class="facial-radio h-3 w-3" data-name="No Facial" data-price="0" onchange="updatePrice()" checked>
                        <span class="text-[10px] font-bold text-gray-400">No Facial</span>
                    </label>

                </div>
            </div>

            <div>
                <label class="block text-xs font-bold text-violet-700 uppercase tracking-wider mb-1">Requested Time</label>
                <input type="datetime-local" id="cDate" class="form-input cursor-pointer">
            </div>

            <div>
                <label class="block text-xs font-bold text-violet-700 uppercase tracking-wider mb-1">Details / Specifics</label>
                <textarea id="cNotes" rows="2" placeholder="e.g. Leave the top long..." class="form-input resize-none"></textarea>
            </div>

            <div class="bg-gradient-to-br from-violet-50 to-white border border-violet-200 rounded-lg p-4 shadow-sm">
                <h3 class="text-center text-xs font-bold text-violet-900 uppercase tracking-wide mb-3 flex items-center justify-center gap-2">
                    <i class="fa-solid fa-crown text-yellow-500"></i> Deals & Loyalty
                </h3>
                <ul class="space-y-3">
                    <li class="flex items-start gap-3 text-xs text-gray-700">
                        <div class="min-w-[20px] text-center"><i class="fa-solid fa-user-group text-violet-500"></i></div>
                        <div><span class="font-bold text-violet-800">Refer a Friend:</span> You both get $5 off your next cut.</div>
                    </li>
                    <li class="flex items-start gap-3 text-xs text-gray-700">
                        <div class="min-w-[20px] text-center"><i class="fa-solid fa-scissors text-violet-500"></i></div>
                        <div><span class="font-bold text-violet-800">Loyalty:</span> Every 6th cut is FREE.</div>
                    </li>
                    <li class="flex items-start gap-3 text-xs text-gray-700">
                        <div class="min-w-[20px] text-center"><i class="fa-solid fa-cake-candles text-violet-500"></i></div>
                        <div><span class="font-bold text-violet-800">Birthday:</span> 50% off (must be an existing client).</div>
                    </li>
                    <li class="flex items-start gap-3 text-xs text-gray-700">
                        <div class="min-w-[20px] text-center"><i class="fa-solid fa-calendar-check text-violet-500"></i></div>
                        <div><span class="font-bold text-violet-800">Cuttiversary:</span> 50% off your yearly anniversary.</div>
                    </li>
                </ul>
                <div class="mt-3 pt-3 border-t border-violet-200/60">
                    <a href="sms:?&body=Yo%2C%20you%20need%20a%20new%20barber.%20Go%20see%20Manny%20at%20MAS%20Barbery.%20Use%20this%20link%20to%20book%20and%20show%20him%20this%20text%20for%20%245%20off%3A%0a%0ahttps%3A%2F%2Fmannyserrano4-oss.github.io%2Fcrispy-enigma%2Fbook" 
                       class="flex items-center justify-center w-full bg-white border border-violet-200 hover:bg-violet-100 text-violet-700 text-xs font-bold py-2 rounded-lg shadow-sm transition-all">
                        <i class="fa-solid fa-paper-plane mr-2"></i> Send Invite ($5 Off)
                    </a>
                </div>
                <p class="text-[10px] text-center text-gray-400 mt-2 italic">*Terms subject to change.</p>
            </div>

            <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-center gap-3">
                <i class="fa-solid fa-camera text-blue-500 text-lg ml-1"></i>
                <div class="text-xs text-blue-800 leading-tight">
                    <span class="font-bold">Have a reference photo?</span><br>
                    Please attach it to the message after clicking "Send".
                </div>
            </div>

            <div class="flex items-start gap-3 px-1">
                <input type="checkbox" id="cPolicy" class="mt-1 w-4 h-4 text-violet-600 rounded border-gray-300 focus:ring-violet-500 cursor-pointer">
                <label for="cPolicy" class="text-xs text-gray-600 cursor-pointer leading-relaxed">
                    I agree to the <span class="font-bold text-violet-700">Cancellation Policy</span>: 
                    <span class="block mt-1 text-[10px] text-gray-500">
                        24 hours in advance is preferred. No-shows or late cancellations may require a deposit for future bookings. See FAQ below.
                    </span>
                </label>
            </div>

            <div class="pt-2 space-y-3">
                <button onclick="sendRequest('sms')" class="w-full bg-violet-600 hover:bg-violet-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:-translate-y-1 flex items-center justify-center gap-2">
                    <i class="fa-solid fa-comment-sms"></i> Send via Text
                </button>
                <button onclick="sendRequest('wa')" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:-translate-y-1 flex items-center justify-center gap-2">
                    <i class="fa-brands fa-whatsapp text-xl"></i> Send via WhatsApp
                </button>
            </div>

            <div class="mt-8 pt-6 border-t border-gray-200">
                <h3 class="text-center text-sm font-bold text-violet-900 uppercase tracking-wide mb-4">FAQ & INFO</h3>
                <div class="space-y-2">
                    <details class="group bg-white border border-violet-100 rounded-lg open:shadow-md transition-all">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-3 text-sm text-violet-800 bg-violet-50/50 hover:bg-violet-100 rounded-lg">
                            <span>üìÖ Do you accept walk-ins?</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-xs"></i></span>
                        </summary>
                        <div class="text-gray-600 text-xs p-3 pt-0 leading-relaxed">
                            I am primarily appointment-only to ensure quality. However, text me to check for last-minute gaps!
                        </div>
                    </details>
                    
                    <details class="group bg-white border border-violet-100 rounded-lg open:shadow-md transition-all">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-3 text-sm text-violet-800 bg-violet-50/50 hover:bg-violet-100 rounded-lg">
                            <span>üöó Do you do House Calls?</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-xs"></i></span>
                        </summary>
                        <div class="text-gray-600 text-xs p-3 pt-0 leading-relaxed">
                            Yes! Select "House Call" in the service menu to inquire. Pricing starts at $50 depending on location.
                        </div>
                    </details>

                    <details class="group bg-white border border-violet-100 rounded-lg open:shadow-md transition-all">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-3 text-sm text-violet-800 bg-violet-50/50 hover:bg-violet-100 rounded-lg">
                            <span>‚è±Ô∏è Running Late?</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-xs"></i></span>
                        </summary>
                        <div class="text-gray-600 text-xs p-3 pt-0 leading-relaxed">
                            There is a 15-minute grace period. After that, we may need to reschedule to respect the next client's time.
                        </div>
                    </details>

                    <details class="group bg-white border border-violet-100 rounded-lg open:shadow-md transition-all mt-2">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-3 text-sm text-violet-800 bg-violet-50/50 hover:bg-violet-100 rounded-lg">
                            <span>üö´ Cancellation Policy</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-xs"></i></span>
                        </summary>
                        <div class="text-gray-600 text-xs p-3 pt-0 leading-relaxed">
                            <p class="mb-2">Please provide at least <strong>24 hours notice</strong> for cancellations.</p>
                            <p>I understand life happens. While a first occurrence may be waived, repeat no-shows require a <strong>$15 deposit</strong> to re-book. This deposit is credited to your cut but is non-refundable if missed again.</p>
                        </div>
                    </details>

                    <details class="group bg-white border border-violet-100 rounded-lg open:shadow-md transition-all">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-3 text-sm text-violet-800 bg-violet-50/50 hover:bg-violet-100 rounded-lg">
                            <span>üíµ Payment Methods</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-xs"></i></span>
                        </summary>
                        <div class="text-gray-600 text-xs p-3 pt-0 leading-relaxed">Cash, CashApp, Zelle, Apple Pay, PayPal. <strong>Cash</strong> is always king!</div>
                    </details>
                </div>
            </div>

            <div class="text-center mt-6">
                <a href="https://mannyserrano4-oss.github.io/crispy-enigma/" class="text-sm text-violet-500 hover:text-violet-700 font-semibold transition-colors">&larr; Back to Manny's Page</a>
            </div>
        </div>
    </div>

        <p class="text-xs text-violet-800 opacity-75 mt-8 text-center pb-2">
            Made by me at work, because I have SO much downtime.
        </p>
    
    <div id="toast"><i class="fa-solid fa-circle-exclamation mr-2"></i> <span id="toastMsg">Error</span></div>

   <script>
        // ==============================================================
        // CONFIGURATION
        // ==============================================================
        const BARBER_PHONE = "9014437338"; // Your phone number
        // ==============================================================

        // 1. PRICE CALCULATOR
        // This function runs every time you click a checkbox or change service
        function updatePrice() {
            // A. Get Base Service Price
            const select = document.getElementById('cService');
            // We grab the price from the data-price attribute in the dropdown
            let total = parseFloat(select.options[select.selectedIndex].getAttribute('data-price')) || 0;
            const isHouseCall = select.value === "House Call";

            // B. Add Checkboxes (Eyebrows, etc)
            // We look for any checkbox with class 'addon-checkbox' that is checked
            document.querySelectorAll('.addon-checkbox:checked').forEach(box => {
                total += parseFloat(box.getAttribute('data-price')) || 0;
            });

            // C. Add Facial (Radio Button)
            // We look for the selected facial radio button
            const facial = document.querySelector('input[name="facialType"]:checked');
            if(facial) {
                total += parseFloat(facial.getAttribute('data-price')) || 0;
            }

            // D. Update the Blue Box on screen
            const display = document.getElementById('priceDisplay');
            if (total === 0) { 
                display.innerText = "-"; 
            } else { 
                // If it's a House Call, we add a "+" sign because price varies
                display.innerText = "$" + total + (isHouseCall ? "+" : ""); 
            }
        }

        // Helper: Shows the red error popup
        function showToast(message) {
            const toast = document.getElementById("toast");
            document.getElementById("toastMsg").innerText = message;
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }

        // 2. SEND MESSAGE FUNCTION
        // This runs when they click "Send via Text"
        function sendRequest(type) {
            // Gather all the inputs
            const name = document.getElementById('cName').value.trim();
            const service = document.getElementById('cService').value;
            const dateVal = document.getElementById('cDate').value;
            const notes = document.getElementById('cNotes').value.trim();
            const policy = document.getElementById('cPolicy').checked;

            // Safety Checks (Validation)
            if(!name) { showToast("Please enter your name."); return; }
            if(!dateVal && service !== 'General Inquiry') { showToast("Please select a date and time."); return; }
            if(!policy) { showToast("Please accept the cancellation policy."); return; }

            // Format the Date nicely (e.g., "Mon, Jan 12 at 4:00 PM")
            let timeStr = "Anytime";
            if (dateVal) {
                const dateObj = new Date(dateVal);
                const d = dateObj.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
                const t = dateObj.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
                timeStr = `${d} at ${t}`;
            }

            // --- COLLECT ADD-ONS TO WRITE IN TEXT ---
            let addons = [];
            
            // 1. Get Checked Boxes names
            document.querySelectorAll('.addon-checkbox:checked').forEach(box => {
                addons.push(box.getAttribute('data-name'));
            });
            
            // 2. Get Selected Facial name
            const facial = document.querySelector('input[name="facialType"]:checked');
            // We only add it if price is not 0 (skips "No Facial")
            if(facial && facial.getAttribute('data-price') != "0") {
                addons.push(facial.getAttribute('data-name'));
            }

            // --- BUILD THE TEXT MESSAGE ---
            let message = `Yo Manny! It's ${name}.`;
            
            if (service === 'General Inquiry') { 
                message += ` I have a question about booking/services.`; 
            } else { 
                message += ` I'd like to request a ${service} on ${timeStr}.`; 
            }

            // If they picked add-ons, add them to the text
            if(addons.length > 0) {
                message += `\n\n+ Add-ons: ${addons.join(", ")}`;
            }

            if (notes) { message += `\n\nNotes: ${notes}`; }
            message += `\n\n(I've read the policy & am waiting for confirmation)`;

            // --- SEND IT ---
            if(type === 'sms') {
                const sep = navigator.userAgent.match(/iPhone|iPad|iPod/i) ? '&' : '?';
                window.location.href = `sms:${BARBER_PHONE}${sep}body=${encodeURIComponent(message)}`;
            } else if (type === 'wa') {
                window.open(`https://wa.me/${BARBER_PHONE}?text=${encodeURIComponent(message)}`, '_blank');
            }
        }
    </script>
</body>
</html>
