<script>
        // ==========================================
        //        THE SWITCHBOARD SETTINGS
        // ==========================================
        
        const REVIEW_MODE = "text";   // OPTIONS: "text" OR "google"
        const YOUR_PHONE = "9014437338"; 
        const GOOGLE_LINK = ""; 

        // ==========================================

        const stars = document.querySelectorAll('.star-btn');
        const helperText = document.getElementById('helperText');
        const mainTitle = document.querySelector('h1'); // Grab the title to update it later

        // Star Hover Effects
        stars.forEach(star => {
            star.addEventListener('mouseenter', () => {
                const val = star.getAttribute('data-value');
                highlightStars(val);
                updateHelper(val);
            });
        });

        document.getElementById('starContainer').addEventListener('mouseleave', () => {
            highlightStars(0);
            helperText.style.opacity = '0';
        });

        function updateHelper(val) {
            helperText.style.opacity = '1';
            
            // === MANNY'S COMEDY LABELS ===
            // This adds personality to the rating process
            const texts = [
                "", 
                "I want a refund ðŸ˜­",      // 1 Star
                "My mom cuts better âœ‚ï¸",  // 2 Stars
                "It was decent ðŸ¤·â€â™‚ï¸",       // 3 Stars
                "Clean & Crispy ðŸ§¼",       // 4 Stars
                "GOD TIER FADE âš¡ï¸"        // 5 Stars
            ];
            helperText.innerText = texts[val];
        }

        function highlightStars(count) {
            stars.forEach(star => {
                const val = star.getAttribute('data-value');
                if (val <= count) {
                    star.classList.remove('text-gray-300');
                    star.classList.add('text-yellow-400');
                } else {
                    star.classList.remove('text-yellow-400');
                    star.classList.add('text-gray-300');
                }
            });
        }

        function handleRate(rating) {
            // 1. Visual Pop Animation
            stars[rating-1].classList.add('pop-anim');
            setTimeout(() => stars[rating-1].classList.remove('pop-anim'), 300);

            // 2. UX Feedback: Tell them what is happening
            mainTitle.innerText = (rating === 5) ? "Opening Texts..." : "Opening Feedback...";
            mainTitle.classList.add("text-violet-500", "animate-pulse"); // Make it pulse purple

            // 3. Logic Engine
            setTimeout(() => {
                if (rating == 5) {
                    // 5 STARS: Hype Mode
                    if (REVIEW_MODE === "google" && GOOGLE_LINK) {
                        window.location.href = GOOGLE_LINK;
                    } else {
                        // BLANK SLATE. Authenticity.
                        sendText("");
                    }
                } else {
                    // 1-4 STARS: Feedback Mode
                    sendText("(Feedback) ");
                }
                
                // Reset title after a moment (in case they come back)
                setTimeout(() => {
                    mainTitle.innerText = "How did I do?";
                    mainTitle.classList.remove("text-violet-500", "animate-pulse");
                }, 2000);

            }, 500); // Slightly longer delay so they see the "Opening..." text
        }

        function sendText(msg) {
            const sep = navigator.userAgent.match(/iPhone|iPad|iPod/i) ? '&' : '?';
            if(msg === "") {
                window.location.href = `sms:${YOUR_PHONE}`;
            } else {
                window.location.href = `sms:${YOUR_PHONE}${sep}body=${encodeURIComponent(msg)}`;
            }
        }
    </script>
